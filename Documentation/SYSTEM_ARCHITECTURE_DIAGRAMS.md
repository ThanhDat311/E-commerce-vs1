# Real-Time Notifications - System Architecture Diagram

## Complete System Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CUSTOMER SIDE (Web)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Checkout Process                           â”‚   â”‚
â”‚  â”‚  1. Browse Products                                     â”‚   â”‚
â”‚  â”‚  2. Add to Cart                                         â”‚   â”‚
â”‚  â”‚  3. Enter Shipping Address                              â”‚   â”‚
â”‚  â”‚  4. Select Payment Method                               â”‚   â”‚
â”‚  â”‚  5. Submit Order                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                              â”‚
â”‚                   â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        POST /checkout/process                          â”‚   â”‚
â”‚  â”‚        OrderController::process()                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                              â”‚
â”‚                   â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        OrderService::processCheckout()                 â”‚   â”‚
â”‚  â”‚  - Validate cart                                       â”‚   â”‚
â”‚  â”‚  - Check inventory                                     â”‚   â”‚
â”‚  â”‚  - Create order in DB                                  â”‚   â”‚
â”‚  â”‚  - Process payment                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND (Laravel)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    OrderService (app/Services/OrderService.php)        â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  public function processCheckout() {                   â”‚   â”‚
â”‚  â”‚    DB::transaction(...);                              â”‚   â”‚
â”‚  â”‚    $order = $this->orderRepository->createOrder(...); â”‚   â”‚
â”‚  â”‚    // ... payment processing ...                       â”‚   â”‚
â”‚  â”‚    DB::commit();                                       â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    âœ“ event(new OrderPlaced($order));                 â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    return [...];                                       â”‚   â”‚
â”‚  â”‚  }                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                              â”‚
â”‚                   â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      OrderPlaced Event (app/Events/OrderPlaced.php)    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  implements ShouldBroadcast {                          â”‚   â”‚
â”‚  â”‚    public function broadcastOn(): array {             â”‚   â”‚
â”‚  â”‚      return [                                          â”‚   â”‚
â”‚  â”‚        new PrivateChannel('admin-channel')            â”‚   â”‚
â”‚  â”‚      ];                                                â”‚   â”‚
â”‚  â”‚    }                                                    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    public function broadcastAs(): string {            â”‚   â”‚
â”‚  â”‚      return 'order-placed';                           â”‚   â”‚
â”‚  â”‚    }                                                    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    public function broadcastWith(): array {           â”‚   â”‚
â”‚  â”‚      return [                                          â”‚   â”‚
â”‚  â”‚        'order_id' => $this->order->id,               â”‚   â”‚
â”‚  â”‚        'customer_name' => ...,                        â”‚   â”‚
â”‚  â”‚        'amount' => $this->amount,                     â”‚   â”‚
â”‚  â”‚        ... (7 more fields)                            â”‚   â”‚
â”‚  â”‚      ];                                                â”‚   â”‚
â”‚  â”‚    }                                                    â”‚   â”‚
â”‚  â”‚  }                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                              â”‚
â”‚                   â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     Reverb WebSocket Server (Port 8080)               â”‚   â”‚
â”‚  â”‚     php artisan reverb:start                          â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  Receives OrderPlaced event                           â”‚   â”‚
â”‚  â”‚  Serializes event data                                â”‚   â”‚
â”‚  â”‚  Broadcasts to admin-channel                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ WebSocket Connection (ws://localhost:8080)
                      â”‚ Channel: admin-channel
                      â”‚ Event: order-placed
                      â”‚ Data: JSON with order details
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ADMIN SIDE (Browser)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    Admin Dashboard View                                 â”‚   â”‚
â”‚  â”‚    (resources/views/layouts/admin.blade.php)           â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  <body data-admin-notifications>                       â”‚   â”‚
â”‚  â”‚    <div id="notification-container"></div>            â”‚   â”‚
â”‚  â”‚    ...                                                  â”‚   â”‚
â”‚  â”‚    @vite('resources/js/echo.js')                       â”‚   â”‚
â”‚  â”‚  </body>                                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                              â”‚
â”‚                   â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    Laravel Echo Initialization                         â”‚   â”‚
â”‚  â”‚    (resources/js/echo.js)                              â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  window.Echo = new Echo({                             â”‚   â”‚
â”‚  â”‚    broadcaster: 'reverb',                             â”‚   â”‚
â”‚  â”‚    host: 'localhost',                                 â”‚   â”‚
â”‚  â”‚    port: 8080                                         â”‚   â”‚
â”‚  â”‚  });                                                    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  window.Echo.private('admin-channel')                 â”‚   â”‚
â”‚  â”‚    .listen('order-placed', (data) => {               â”‚   â”‚
â”‚  â”‚      showOrderNotification(data);                     â”‚   â”‚
â”‚  â”‚    });                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                              â”‚
â”‚                   â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    Toast Notification Display                          â”‚   â”‚
â”‚  â”‚    showOrderNotification(orderData) {                   â”‚   â”‚
â”‚  â”‚      - Create toast HTML                              â”‚   â”‚
â”‚  â”‚      - Append to container                            â”‚   â”‚
â”‚  â”‚      - Initialize Bootstrap Toast                     â”‚   â”‚
â”‚  â”‚      - Play notification sound (optional)             â”‚   â”‚
â”‚  â”‚      - Auto-dismiss after 10 seconds                  â”‚   â”‚
â”‚  â”‚    }                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                                              â”‚
â”‚                   â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        Admin Screen Shows Toast                        â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚    â”‚ âœ“ New Order Received!               â”‚           â”‚   â”‚
â”‚  â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚   â”‚
â”‚  â”‚    â”‚ Order #123        [Credit Card]     â”‚           â”‚   â”‚
â”‚  â”‚    â”‚ ğŸ‘¤ John Doe                         â”‚           â”‚   â”‚
â”‚  â”‚    â”‚ ğŸ“§ john@example.com                 â”‚           â”‚   â”‚
â”‚  â”‚    â”‚ ğŸ“¦ 3 item(s)                        â”‚           â”‚   â”‚
â”‚  â”‚    â”‚ ğŸ’° $89.99                          â”‚           â”‚   â”‚
â”‚  â”‚    â”‚ ğŸ• 1/24/2026 3:45 PM               â”‚           â”‚   â”‚
â”‚  â”‚    â”‚                                      â”‚           â”‚   â”‚
â”‚  â”‚    â”‚ [View Order â†’]                      â”‚           â”‚   â”‚
â”‚  â”‚    â”‚               [âœ•]                   â”‚           â”‚   â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    Admin can:                                          â”‚   â”‚
â”‚  â”‚    âœ“ Click "View Order" â†’ See full details           â”‚   â”‚
â”‚  â”‚    âœ“ Close button â†’ Dismiss notification             â”‚   â”‚
â”‚  â”‚    âœ“ Wait 10s â†’ Auto-dismiss                         â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
                Order Placed
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   OrderService  â”‚
            â”‚  processCheckoutâ”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Database Updated    â”‚
         â”‚  (order created)     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ event(                  â”‚
      â”‚   new OrderPlaced(...)  â”‚
      â”‚ )                       â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Reverb                  â”‚
    â”‚  Receives Event          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚                                 â”‚
             â–¼                                 â–¼
        Admin 1                           Admin 2
        Browser                          Browser
        Connected                        Connected
             â”‚                                 â”‚
             â–¼                                 â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚   Echo      â”‚                â”‚   Echo      â”‚
      â”‚ Listening   â”‚                â”‚ Listening   â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
             â”‚                              â”‚
             â–¼                              â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Toast Show  â”‚                â”‚ Toast Show  â”‚
      â”‚ #123        â”‚                â”‚ #123        â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                              â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
             â”‚              â”‚               â”‚
       Click View      Auto-dismiss    Click View
          Order          (10s)            Order
             â”‚              â”‚               â”‚
             â–¼              â–¼               â–¼
        Order Detail   Removed from     Order Detail
         Page Loaded       DOM            Page Loaded
```

## Multiple Admin Scenario

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Reverb Server                         â”‚
â”‚                     (WebSocket Hub)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚         â”‚         â”‚         â”‚
          Admin 1   Admin 2   Admin 3   Admin 4
            Tab 1     Tab 2     Tab 3     Tab 4
              â”‚         â”‚         â”‚         â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                    Customer places order
                        â”‚
                        â–¼
        event(new OrderPlaced($order))
                        â”‚
                        â–¼
        Broadcast to private 'admin-channel'
                        â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   â”‚                   â”‚
    â–¼                   â–¼                   â–¼
 Toast #1           Toast #2           Toast #3
 (Admin 1)          (Admin 2)           (Admin 3)
 All see            All see             All see
 notification       notification       notification
 SIMULTANEOUSLY     SIMULTANEOUSLY     SIMULTANEOUSLY
 (milliseconds)     (milliseconds)     (milliseconds)
```

## Notification Lifecycle

```
1. Order Created
   â””â”€ OrderService::processCheckout() runs
      â””â”€ Database transaction commits
         â””â”€ event(new OrderPlaced($order)) â—„â”€â”€â”€â”€ DISPATCH

2. Event Broadcasting
   â””â”€ Reverb receives OrderPlaced event
      â””â”€ Validates private channel access
         â””â”€ Serializes event data to JSON
            â””â”€ Broadcasts to all connected admin-channel subscribers

3. Client Reception
   â””â”€ Browser receives event via WebSocket
      â””â”€ Echo listener triggers callback
         â””â”€ showOrderNotification(data) function called
            â””â”€ Toast HTML created

4. Toast Display
   â””â”€ Toast appended to #notification-container
      â””â”€ Bootstrap Toast initialized
         â””â”€ Toast shown with animation
            â””â”€ Optional: notification sound played

5. User Interaction Options
   â”œâ”€ Option A: Click "View Order" button
   â”‚  â””â”€ Navigate to order detail page
   â”‚     â””â”€ Toast auto-dismissed
   â”‚
   â”œâ”€ Option B: Click close (âœ•) button
   â”‚  â””â”€ Toast immediately hidden
   â”‚
   â””â”€ Option C: Wait for auto-dismiss (10 seconds)
      â””â”€ Toast automatically removed from DOM
         â””â”€ Notification lifecycle complete
```

## Channel Access Control

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Reverb private admin-channel      â”‚
â”‚                                     â”‚
â”‚  Only Users with:                   â”‚
â”‚  âœ“ Authenticated (logged in)        â”‚
â”‚  âœ“ Admin role                       â”‚
â”‚                                     â”‚
â”‚  Can access:                        â”‚
â”‚  âœ— Customer users                   â”‚
â”‚  âœ— Staff users                      â”‚
â”‚  âœ— Unauthenticated users            â”‚
â”‚                                     â”‚
â”‚  Security enforced by:              â”‚
â”‚  app/Http/Channels/ChannelRoutes.phpâ”‚
â”‚  (if custom channels defined)       â”‚
â”‚  OR                                 â”‚
â”‚  Built-in Laravel authorization    â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Event Data Structure

```
OrderPlaced Event broadcasts:

{
  "order_id": 123,
  "customer_name": "John Doe",
  "customer_email": "john@example.com",
  "amount": 89.99,
  "items_count": 3,
  "payment_method": "credit_card",
  "timestamp": "2026-01-24T15:45:30.000Z",
  "status": "processing"
}

Total size: ~300 bytes
Transmission time: <100ms
Notification display: Immediate
```

## Error Handling Flow

```
WebSocket Error
       â”‚
       â–¼
Check connection status
       â”‚
    â”Œâ”€â”€â”´â”€â”€â”
    â”‚     â”‚
   YES   NO
    â”‚     â”‚
    â–¼     â–¼
Retry  Continue
Connect (offline
       â”‚  friendly)
       â–¼
Auto-reconnect
(handled by Echo)
       â”‚
       â–¼
Resume listening
for events
```

---

**Diagram Version:** 1.0
**Date:** January 24, 2026
**System:** Laravel Reverb Real-Time Notifications
